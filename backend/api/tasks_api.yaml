components:
  schemas:
    AllBaseContest:
      properties:
        olympiad_list:
          items:
            $ref: '#/components/schemas/BaseContest'
          type: array
      required:
      - olympiad_list
      type: object
    AllOlympiadTypes:
      properties:
        olympiad_types:
          items:
            $ref: '#/components/schemas/OlympiadType'
          type: array
      required:
      - olympiad_types
      type: object
    AllOlympiads:
      properties:
        contest_list:
          items:
            $ref: '#/components/schemas/Contest'
          type: array
      required:
      - contest_list
      type: object
    AllStages:
      properties:
        stages_list:
          items:
            $ref: '#/components/schemas/Stage'
          type: array
      required:
      - stages_list
      type: object
    AnswersInTask:
      properties:
        answer:
          maxLength: 1024
          type: string
        is_right_answer:
          type: boolean
      required:
      - answer
      - is_right_answer
      type: object
    BaseContest:
      properties:
        base_contest_id:
          readOnly: true
          type: integer
        description:
          maxLength: 1024
          type: string
        laureate_condition:
          type: number
        name:
          type: string
        olympiad_type_id:
          type: integer
        rules:
          maxLength: 1024
          type: string
        subject:
          enum:
          - Math
          - Physics
          - Informatics
          type: string
        target_classes:
          items:
            enum:
            - '5'
            - '6'
            - '7'
            - '8'
            - '9'
            - '10'
            - '11'
            - student
            type: string
          type: array
        winning_condition:
          type: number
      required:
      - description
      - laureate_condition
      - name
      - olympiad_type_id
      - rules
      - subject
      - target_classes
      - winning_condition
      type: object
    BaseOlympiadId:
      properties:
        base_contest_id:
          type: integer
      required:
      - base_contest_id
      type: object
    CompositeContest:
      properties:
        composite_type:
          enum:
          - CompositeContest
          readOnly: true
          type: string
        contest_id:
          readOnly: true
          type: integer
        visibility:
          type: boolean
      required:
      - contest_id
      - visibility
      type: object
    Contest:
      discriminator:
        mapping:
          CompositeContest: '#/components/schemas/CompositeContest'
          SimpleContest: '#/components/schemas/SimpleContest'
        propertyName: composite_type
      oneOf:
      - $ref: '#/components/schemas/SimpleContest'
      - $ref: '#/components/schemas/CompositeContest'
    ContestId:
      properties:
        contest_id:
          type: integer
      required:
      - contest_id
      type: object
    CreateBaseOlympiad:
      properties:
        description:
          maxLength: 1024
          type: string
        laureate_condition:
          type: number
        name:
          maxLength: 32
          type: string
        olympiad_type_id:
          type: integer
        rules:
          maxLength: 1024
          type: string
        subject:
          enum:
          - Math
          - Physics
          - Informatics
          type: string
        target_classes:
          items:
            enum:
            - '5'
            - '6'
            - '7'
            - '8'
            - '9'
            - '10'
            - '11'
            - student
            type: string
          type: array
        winning_condition:
          type: number
      required:
      - description
      - laureate_condition
      - name
      - olympiad_type_id
      - rules
      - subject
      - target_classes
      - winning_condition
      type: object
    CreateCompositeContest:
      properties:
        visibility:
          type: boolean
      required:
      - visibility
      type: object
    CreateMultiple:
      properties:
        answers:
          items:
            $ref: '#/components/schemas/AnswersInTask'
          type: array
        num_of_task:
          type: integer
      required:
      - answers
      - num_of_task
      type: object
    CreateOlympiadType:
      properties:
        olympiad_type_id:
          type: integer
      required:
      - olympiad_type_id
      type: object
    CreateOlympiadTypeRequestAdmin:
      properties:
        olympiad_type:
          maxLength: 32
          type: string
      required:
      - olympiad_type
      type: object
    CreatePlain:
      properties:
        num_of_task:
          type: integer
        recommended_answer:
          maxLength: 1024
          type: string
      required:
      - num_of_task
      - recommended_answer
      type: object
    CreateRange:
      properties:
        end_value:
          type: number
        num_of_task:
          type: integer
        start_value:
          type: number
      required:
      - end_value
      - num_of_task
      - start_value
      type: object
    CreateSimpleContest:
      properties:
        end_time:
          format: date-time
          type: string
        location:
          maxLength: 128
          type: string
        previous_contest_id:
          type: integer
        previous_participation_condition:
          maxLength: 1024
          type: string
        start_time:
          format: date-time
          type: string
        visibility:
          type: boolean
      required:
      - end_time
      - location
      - start_time
      - visibility
      type: object
    CreateStage:
      properties:
        condition:
          enum:
          - 'No'
          - And
          - Or
          type: string
        stage_name:
          maxLength: 32
          type: string
        stage_num:
          type: integer
        this_stage_condition:
          maxLength: 1024
          type: string
      required:
      - condition
      - stage_name
      - stage_num
      - this_stage_condition
      type: object
    CreateVariant:
      properties:
        variant_description:
          maxLength: 1024
          type: string
      required:
      - variant_description
      type: object
    GetAllStages:
      properties:
        stages_list:
          items:
            $ref: '#/components/schemas/Stage'
          type: array
      required:
      - stages_list
      type: object
    GetAllTasks:
      properties:
        tasks_list:
          items:
            $ref: '#/components/schemas/Task'
          type: array
      required:
      - tasks_list
      type: object
    GetAllVariants:
      properties:
        variants_list:
          items:
            $ref: '#/components/schemas/Variant'
          type: array
      required:
      - variants_list
      type: object
    GetBaseOlympiad:
      properties:
        base_contest_id:
          type: integer
        description:
          maxLength: 1024
          type: string
        laureate_condition:
          type: number
        name:
          maxLength: 32
          type: string
        olympiad_type_id:
          type: integer
        rules:
          maxLength: 1024
          type: string
        subject:
          enum:
          - Math
          - Physics
          - Informatics
          type: string
        target_classes:
          items:
            enum:
            - '5'
            - '6'
            - '7'
            - '8'
            - '9'
            - '10'
            - '11'
            - student
            type: string
          type: array
        winning_condition:
          type: number
      required:
      - base_contest_id
      - description
      - laureate_condition
      - name
      - olympiad_type_id
      - rules
      - subject
      - target_classes
      - winning_condition
      type: object
    GetCompositeContest:
      properties:
        contest_id:
          type: integer
        end_date:
          format: date-time
          type: string
        location:
          maxLength: 128
          type: string
        previous_contest_id:
          type: integer
        previous_participation_condition:
          maxLength: 1024
          type: string
        start_date:
          format: date-time
          type: string
        visibility:
          type: boolean
      required:
      - contest_id
      - visibility
      type: object
    GetTask:
      properties:
        answers:
          items:
            $ref: '#/components/schemas/AnswersInTask'
          type: array
        end_value:
          type: number
        image_of_task: {}
        num_of_task:
          type: integer
        recommended_answer:
          maxLength: 1024
          type: string
        start_value:
          type: number
        task_id:
          type: integer
      required:
      - image_of_task
      - num_of_task
      - task_id
      type: object
    GetVariant:
      properties:
        variant_description:
          maxLength: 1024
          type: string
        variant_id:
          type: integer
        variant_number:
          type: integer
      required:
      - variant_description
      - variant_id
      - variant_number
      type: object
    OlympiadType:
      properties:
        olympiad_type:
          maxLength: 32
          type: string
        olympiad_type_id:
          readOnly: true
          type: integer
      required:
      - olympiad_type
      type: object
    SimpleContest:
      properties:
        composite_type:
          enum:
          - SimpleContest
          readOnly: true
          type: string
        contest_id:
          readOnly: true
          type: integer
        end_date:
          format: date-time
          nullable: true
          type: string
        location:
          maxLength: 1024
          nullable: true
          type: string
        previous_contest_id:
          nullable: true
          type: integer
        previous_participation_condition:
          enum:
          - Participant
          - Laureate
          - Winner
          type: string
        start_date:
          format: date-time
          nullable: true
          type: string
        visibility:
          type: boolean
      required:
      - contest_id
      - end_date
      - location
      - previous_participation_condition
      - start_date
      - visibility
      type: object
    Stage:
      properties:
        condition:
          enum:
          - 'No'
          - And
          - Or
          type: string
        olympiad_id:
          nullable: true
          type: integer
        stage_id:
          readOnly: true
          type: integer
        stage_name:
          maxLength: 32
          type: string
        stage_num:
          type: integer
        this_stage_condition:
          maxLength: 1024
          type: string
      required:
      - condition
      - stage_name
      - stage_num
      - this_stage_condition
      type: object
    StageId:
      properties:
        stage_id:
          type: integer
      required:
      - stage_id
      type: object
    Task:
      discriminator:
        mapping:
          MultipleChoiceTask: '#/components/schemas/TaskMultiple'
          PlainTask: '#/components/schemas/TaskPlain'
          RangeTask: '#/components/schemas/TaskRange'
        propertyName: task_type
      oneOf:
      - $ref: '#/components/schemas/TaskPlain'
      - $ref: '#/components/schemas/TaskRange'
      - $ref: '#/components/schemas/TaskMultiple'
    TaskId:
      properties:
        task_id:
          type: integer
      required:
      - task_id
      type: object
    TaskMultiple:
      properties:
        answers:
          nullable: true
          type: string
        num_of_task:
          type: integer
        task_id:
          readOnly: true
          type: integer
        task_type:
          enum:
          - MultipleChoiceTask
          readOnly: true
          type: string
      required:
      - task_id
      type: object
    TaskPlain:
      properties:
        num_of_task:
          type: integer
        recommended_answer:
          maxLength: 1024
          type: string
        task_id:
          readOnly: true
          type: integer
        task_type:
          enum:
          - PlainTask
          readOnly: true
          type: string
      required:
      - num_of_task
      - recommended_answer
      - task_id
      type: object
    TaskRange:
      properties:
        end_value:
          type: number
        num_of_task:
          type: integer
        start_value:
          type: number
        task_id:
          readOnly: true
          type: integer
        task_type:
          enum:
          - RangeTask
          readOnly: true
          type: string
      required:
      - end_value
      - num_of_task
      - start_value
      - task_id
      type: object
    UpdateBaseOlympiad:
      properties:
        description:
          maxLength: 1024
          type: string
        laureate_condition:
          type: number
        name:
          maxLength: 32
          type: string
        olympiad_type_id:
          type: integer
        rules:
          maxLength: 1024
          type: string
        subject:
          enum:
          - Math
          - Physics
          - Informatics
          type: string
        target_classes:
          items:
            enum:
            - '5'
            - '6'
            - '7'
            - '8'
            - '9'
            - '10'
            - '11'
            - student
            type: string
          type: array
        winning_condition:
          type: number
      required:
      - target_classes
      type: object
    UpdateContest:
      properties:
        end_date:
          format: date-time
          type: string
        location:
          maxLength: 128
          type: string
        previous_contest_id:
          type: integer
        previous_participation_condition:
          maxLength: 1024
          type: string
        start_date:
          format: date-time
          type: string
        visibility:
          type: boolean
      type: object
    UpdateMultiple:
      properties:
        answers:
          items:
            $ref: '#/components/schemas/AnswersInTask'
          type: array
        num_of_task:
          type: integer
      type: object
    UpdatePlain:
      properties:
        num_of_task:
          type: integer
        recommended_answer:
          maxLength: 1024
          type: string
      type: object
    UpdatePreviousContest:
      properties:
        previous_contest_id:
          type: integer
        previous_participation_condition:
          maxLength: 1024
          type: string
      required:
      - previous_contest_id
      - previous_participation_condition
      type: object
    UpdateRange:
      properties:
        end_value:
          type: number
        num_of_task:
          type: integer
        start_value:
          type: number
      type: object
    UpdateUserInRequestCreator:
      properties:
        users_id:
          items:
            type: integer
          type: array
      required:
      - users_id
      type: object
    UpdateVariant:
      properties:
        variant_description:
          maxLength: 1024
          type: string
        variant_number:
          type: integer
      type: object
    UserInContest:
      properties:
        user_id:
          readOnly: true
          type: integer
        user_status:
          enum:
          - Participant
          - Laureate
          - Winner
          type: string
        variant_id:
          nullable: true
          readOnly: true
          type: integer
      required:
      - user_id
      - user_status
      type: object
    UsersResponse:
      properties:
        user_list:
          items:
            $ref: '#/components/schemas/UserInContest'
          type: array
      required:
      - user_list
      type: object
    Variant:
      properties:
        contest_id:
          nullable: true
          type: integer
        variant_description:
          maxLength: 1024
          nullable: true
          type: string
        variant_id:
          readOnly: true
          type: integer
        variant_number:
          nullable: true
          type: integer
      required:
      - variant_description
      - variant_number
      type: object
    VariantId:
      properties:
        variant_id:
          type: integer
      required:
      - variant_id
      type: object
  securitySchemes:
    CSRFAccessToken:
      in: header
      name: X-CSRF-TOKEN
      type: apiKey
    CSRFRefreshToken:
      in: header
      name: X-CSRF-TOKEN
      type: apiKey
    JWTAccessToken:
      in: cookie
      name: access_token_cookie
      type: apiKey
    JWTRefreshToken:
      in: cookie
      name: refresh_token_cookie
      type: apiKey
info:
  title: aggregate_contest_tasks
  version: 1.0.0
openapi: 3.0.2
paths:
  /tasks/creator/base_olympiad/create:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBaseOlympiad'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseOlympiadId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/base_olympiad/{id_base_olympiad}/upload_certificate:
    post:
      parameters:
      - description: Id of the olympiad
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/octet-stream:
            schema:
              format: binary
              type: string
        required: true
      responses:
        '200':
          description: OK
        '400':
          description: Bad request
        '404':
          description: Base contest not found
        '409':
          description: Wrong value
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/base_olympiad/{id_base_olympiad}/remove:
    post:
      parameters:
      - description: ID of the base olympiad
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '403':
          description: Invalid role of current user
        '404':
          description: Group not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/base_olympiad/{id_base_olympiad}:
    patch:
      parameters:
      - description: ID of the base olympiad
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBaseOlympiad'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBaseOlympiad'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/base_olympiad/{id_base_olympiad}/olympiad/createsimple:
    post:
      parameters:
      - description: ID of the base olympiad
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSimpleContest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContestId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/base_olympiad/{id_base_olympiad}/olympiad/createcomposite:
    post:
      parameters:
      - description: ID of the base olympiad
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCompositeContest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContestId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/base_olympiad/{id_base_olympiad}/olympiad/{id_olympiad}/remove:
    post:
      parameters:
      - description: ID of the base olympiad
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '403':
          description: Invalid role of current user
        '404':
          description: Olympiad not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/base_olympiad/{id_base_olympiad}/olympiad/{id_olympiad}:
    patch:
      parameters:
      - description: ID of the base olympiad
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCompositeContest'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/olympiad/{id_olympiad}/stage/create:
    post:
      parameters:
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateStage'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StageId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/olympiad/{id_olympiad}/stage/{id_stage}/remove:
    post:
      parameters:
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '403':
          description: Invalid role of current user
        '404':
          description: Olympiad not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/olympiad/{id_olympiad}/stage/{id_stage}:
    patch:
      parameters:
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateStage'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StageId'
          description: OK
        '403':
          description: Invalid role of current user
        '404':
          description: Stage not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/olympiad/{id_olympiad}/stage/{id_stage}/contest/createsimple:
    post:
      parameters:
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSimpleContest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContestId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/olympiad/{id_olympiad}/stage/{id_stage}/contest/{id_contest}/remove:
    post:
      parameters:
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '403':
          description: Invalid role of current user
        '404':
          description: Olympiad not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/olympiad/{id_olympiad}/stage/{id_stage}/contest/{id_contest}:
    patch:
      parameters:
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateContest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCompositeContest'
          description: OK
        '400':
          description: Bad request
        '404':
          description: Not found
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/olympiad/{id_olympiad}/stage/{id_stage}/contest/{id_contest}/add_previous:
    patch:
      parameters:
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePreviousContest'
        required: true
      responses:
        '200':
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/olympiad/{id_olympiad}/stage/{id_stage}/contest/all:
    get:
      parameters:
      - description: ID of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: ID of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllStages'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/create:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVariant'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VariantId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/remove:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '403':
          description: Invalid role of current user
        '404':
          description: Olympiad not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{variant_num}:
    get:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: Num of the variant
        in: path
        name: variant_num
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetVariant'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
    patch:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: Num of the variant
        in: path
        name: variant_num
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateVariant'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetVariant'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/all:
    get:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllVariants'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/{id_task}/upload_image:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      - description: ID of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/octet-stream:
            schema:
              format: binary
              type: string
        required: true
      responses:
        '200':
          description: OK
        '400':
          description: Bad request
        '404':
          description: Base contest not found
        '409':
          description: Wrong value
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/createplain:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePlain'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/createrange:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateRange'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/createmultiple:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMultiple'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/{id_task}/remove:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      - description: ID of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '403':
          description: Invalid role of current user
        '404':
          description: Olympiad not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/{id_task}:
    get:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      - description: ID of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskId'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/{id_task}/plain:
    patch:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      - description: ID of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePlain'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetTask'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/{id_task}/range:
    patch:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      - description: ID of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRange'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetTask'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/{id_task}/multiple:
    patch:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      - description: ID of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMultiple'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetTask'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/task/all:
    get:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAllTasks'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/creator/contest/{id_contest}/variant/{id_variant}/tasks/{id_task}/image:
    get:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the variant
        in: path
        name: id_variant
        required: true
        schema:
          type: integer
      - description: ID of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            image/jpeg:
              schema:
                format: binary
                type: string
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/admin/olympiad_type/create:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOlympiadTypeRequestAdmin'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateOlympiadType'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/admin/olympiad_type/{id_olympiad_type}/remove:
    post:
      parameters:
      - description: Id of the olympiad type
        in: path
        name: id_olympiad_type
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/participant/contest/{id_contest}/variant/self:
    get:
      parameters:
      - description: Id of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Variant'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: User not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/participant/contest/{id_contest}/tasks/self:
    get:
      parameters:
      - description: Id of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Variant'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: User not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/participant/contest/{id_contest}/tasks/{id_task}/self:
    get:
      parameters:
      - description: Id of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: Id of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Task'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: User not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/participant/contest/{id_contest}/tasks/{id_task}/image/self:
    get:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the task
        in: path
        name: id_task
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            image/jpeg:
              schema:
                format: binary
                type: string
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/participant/contest/{id_contest}/certificate/self:
    get:
      parameters:
      - description: Id of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: User not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/participant/olympiad/{id_olympiad}/stage/{id_stage}/contest/all:
    get:
      parameters:
      - description: Id of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: Id of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllOlympiads'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: User not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/participant/olympiad/{id_olympiad}/stage/{id_stage}/contest/{id_contest}:
    get:
      parameters:
      - description: Id of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: Id of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      - description: Id of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contest'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: User not found
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/unauthorized/olympiad_type/all:
    get:
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllOlympiadTypes'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
  /tasks/unauthorized/olympiad_type/{id_olympiad_type}:
    get:
      parameters:
      - description: Id of the olympiad type
        in: path
        name: id_olympiad_type
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OlympiadType'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
  /tasks/unauthorized/base_olympiad/all:
    get:
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllBaseContest'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
  /tasks/unauthorized/base_olympiad/{id_base_olympiad}:
    get:
      parameters:
      - description: Id of the base contest
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseContest'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
  /tasks/unauthorized/base_olympiad/{id_base_olympiad}/olympiad/all:
    get:
      parameters:
      - description: Id of the base contest
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllOlympiads'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
  /tasks/unauthorized/base_olympiad/{id_base_olympiad}/olympiad/{id_olympiad}:
    get:
      parameters:
      - description: Id of the base contest
        in: path
        name: id_base_olympiad
        required: true
        schema:
          type: integer
      - description: Id of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contest'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
  /tasks/unauthorized/olympiad/{id_olympiad}/stage/{id_stage}:
    get:
      parameters:
      - description: Id of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      - description: Id of the stage
        in: path
        name: id_stage
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Stage'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
  /tasks/unauthorized/olympiad/{id_olympiad}/stage/all:
    get:
      parameters:
      - description: Id of the olympiad
        in: path
        name: id_olympiad
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllStages'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
        '404':
          description: Olympiad type not found
  /tasks/control_users/contest/{id_contest}/add_user:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserInRequestCreator'
        required: true
      responses:
        '200':
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/control_users/contest/{id_contest}/remove_user:
    post:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserInRequestCreator'
        required: true
      responses:
        '200':
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/control_users/contest/{id_contest}/user/all:
    get:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsersResponse'
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
  /tasks/control_users/contest/{id_contest}/user/{id_user}/certificate:
    get:
      parameters:
      - description: ID of the contest
        in: path
        name: id_contest
        required: true
        schema:
          type: integer
      - description: ID of the user
        in: path
        name: id_user
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: OK
        '400':
          description: Bad request
        '409':
          description: Olympiad type already in use
      security:
      - JWTAccessToken: []
      - CSRFAccessToken: []
servers:
- url: /contest
