<div class="form_item">
    <p class="form_label">Название документа</p>
    <input class="form_input" placeholder="Введите название документа" type="text" name="document_name" #document_name="ngModel"
           [(ngModel)]="model.document_name" (ngModelChange)="onModelChange()" required>
    <ng-container [ngTemplateOutlet]="validationTemplate"
                  [ngTemplateOutletContext]="{fieldName:document_name}">
    </ng-container>
</div>

<div class="form_item">
    <p class="form_label">Серия документа</p>
    <input class="form_input" placeholder="Введите серию документа" type="text" name="series" #series="ngModel"
           [(ngModel)]="model.series" (ngModelChange)="onModelChange()" [pattern]="seriesPattern" required>
    <ng-container [ngTemplateOutlet]="validationTemplate"
                  [ngTemplateOutletContext]="{fieldName:series}">
    </ng-container>
</div>

<div class="form_item">
    <p class="form_label">Номер документа</p>
    <input class="form_input" placeholder="Введите номер документа" type="text" name="number" #number="ngModel"
           [(ngModel)]="model.number" (ngModelChange)="onModelChange()" [pattern]="numberPattern" required>
    <ng-container [ngTemplateOutlet]="validationTemplate"
                  [ngTemplateOutletContext]="{fieldName:number}">
    </ng-container>
</div>

<div class="form_item">
    <p class="form_label">Кем выдан</p>
    <textarea class="form_input" placeholder="Введите место выдачи документа" name="issuer" #issuer="ngModel"
              [(ngModel)]="model.issuer" (ngModelChange)="onModelChange()" [maxlength]="256" required></textarea>
    <ng-container [ngTemplateOutlet]="validationTemplate"
                  [ngTemplateOutletContext]="{fieldName:issuer}">
    </ng-container>
</div>

<div class="form_item">
    <p class="form_label">Когда выдан</p>
    <input class="form_input" placeholder="Введите дату выдачи документа" type="date" name="issue_date"
           #issue_date="ngModel"
           [(ngModel)]="model.issue_date" (ngModelChange)="onModelChange()"required>
    <ng-container [ngTemplateOutlet]="validationTemplate"
                  [ngTemplateOutletContext]="{fieldName:issue_date}">
    </ng-container>
</div>

<ng-template #validationTemplate let-fieldName='fieldName'>
    <div *ngIf="fieldName.invalid" class="input_error">
        <div *ngIf="fieldName.errors?.required">
            Поле обязательно для заполнения
        </div>
        <div *ngIf="fieldName.errors?.phoneNumberValid === false">
            Номер телефона введен неправильно
        </div>
        <div *ngIf="fieldName.errors?.pattern">
            Значение введено некорректно
        </div>
    </div>
</ng-template>